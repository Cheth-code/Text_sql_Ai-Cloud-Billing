{
  "aws_cost_usage": {
    "description": "Contains cost and usage data for Amazon Web Services (AWS). Use this table for all questions related to AWS spend.",
    "expert_guidance": [
      "**Primary Cost Column:** ALWAYS use `EFFECTIVECOST` for any questions about cost, spend, or totals. It reflects all discounts and credits. DO NOT use `BILLEDCOST`.",
      "**Primary Date Column:** ALWAYS use `BILLINGPERIODSTART` for date-based filtering (e.g., 'last month', 'daily'). It is stored as TEXT in 'YYYY-MM-DD' format.",
      "**Date Filtering:** To filter by date, use SQLite date functions. For 'last month', use: `WHERE BILLINGPERIODSTART >= date('now', '-1 month', 'start of month') AND BILLINGPERIODSTART < date('now', 'start of month')`.",
      "**Service Grouping:** Use `SERVICENAME` to group by service (e.g., 'Amazon Elastic Compute Cloud').",
      "**Tags (Complex):** The `TAGS` column is a complex JSON string: `{\"key_value\": [{\"key\": \"K\", \"value\": \"V\"}]}`. This structure is difficult to query in a single line. **Avoid filtering by tags if possible.** If you must, select the `RESOURCENAME` and `TAGS` columns and let the user see the values."
    ],
    "columns": [
      {
        "name": "EFFECTIVECOST",
        "description": "The final, actual cost after all discounts (Savings Plans, RIs, etc.) are applied. **ALWAYS use this for cost calculations.**"
      },
      {
        "name": "SERVICENAME",
        "description": "The name of the AWS service, e.g., 'Amazon Elastic Compute Cloud', 'Amazon Simple Storage Service'. Use for grouping by service."
      },
      {
        "name": "BILLINGPERIODSTART",
        "description": "The start date (YYYY-MM-DD) of the usage record. **Use this for all date-based filtering and grouping.**"
      },
      {
        "name": "RESOURCENAME",
        "description": "The user-defined name of the resource (e.g., an EC2 instance name or S3 bucket name). This can be null."
      },
      {
        "name": "RESOURCEID",
        "description": "The unique Amazon Resource Name (ARN) or ID of the resource. More reliable for identifying a unique resource."
      },
      {
        "name": "REGIONNAME",
        "description": "The human-readable name of the AWS region, e.g., 'Asia Pacific (Sydney)', 'US East (N. Virginia)'."
      },
      {
        "name": "TAGS",
        "description": "A complex JSON string of resource tags. See 'expert_guidance' for query limitations."
      }
    ]
  },
  "azure_cost_usage": {
    "description": "Contains cost and usage data for Microsoft Azure. Use this table for all questions related to Azure spend.",
    "expert_guidance": [
      "**Primary Cost Column:** ALWAYS use `EFFECTIVECOST` for any questions about cost, spend, or totals. It reflects all discounts.",
      "**Primary Date Column:** ALWAYS use `BILLINGPERIODSTART` for date-based filtering. It is stored as TEXT in 'YYYY-MM-DD HH:MM:SS.SSS' format.",
      "**Date Filtering:** To filter by date, you MUST use the `date()` function. For 'last month', use: `WHERE date(BILLINGPERIODSTART) >= date('now', '-1 month', 'start of month') AND date(BILLINGPERIODSTART) < date('now', 'start of month')`.",
      "**Service Grouping:** Use `SERVICENAME` to group by service (e.g., 'Virtual Machines', 'Azure Monitor').",
      "**Tags (Simple):** The `TAGS` column is a simple JSON object: `{\"key\": \"value\"}`. You **CAN** query this directly with `json_extract`. Example: `WHERE json_extract(TAGS, '$.cost_center') = '12345'`."
    ],
    "columns": [
      {
        "name": "EFFECTIVECOST",
        "description": "The final, actual cost after all discounts are applied. **ALWAYS use this for cost calculations.**"
      },
      {
        "name": "SERVICENAME",
        "description": "The specific Azure service, e.g., 'Virtual Machines', 'Storage Accounts', 'Azure Monitor'. Use for grouping by service."
      },
      {
        "name": "BILLINGPERIODSTART",
        "description": "The start timestamp (YYYY-MM-DD HH:MM:SS.SSS) of the usage record. **Use `date(BILLINGPERIODSTART)` for all date-based filtering.**"
      },
      {
        "name": "RESOURCENAME",
        "description": "The name of the Azure resource that incurred the charge."
      },
      {
        "name": "REGIONNAME",
        "description": "The name of the Azure region, e.g., 'Australia East', 'Australia Southeast'."
      },
      {
        "name": "TAGS",
        "description": "A simple JSON object of resource tags: `{\"key\": \"value\"}`. This can be queried with `json_extract` (see expert_guidance)."
      }
    ]
  }
}